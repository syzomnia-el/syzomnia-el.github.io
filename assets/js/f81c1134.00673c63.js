"use strict";(self.webpackChunkel_furnia=self.webpackChunkel_furnia||[]).push([["5524"],{5865:function(n){n.exports=JSON.parse('{"archive":{"blogPosts":[{"id":"/2022/09/27/differences-between-pre-plus-and-post-plus","metadata":{"permalink":"/blog/2022/09/27/differences-between-pre-plus-and-post-plus","editUrl":"https://github.com/syzomnia-el/el-furnia/edit/main/blog/2022-09-27-differences-between-pre-plus-and-post-plus.md","source":"@site/blog/2022-09-27-differences-between-pre-plus-and-post-plus.md","title":"++i \u4E0E i++ \u7684\u533A\u522B","description":"++i \u4E0E i++ \u4E24\u8005\u6709\u4F55\u533A\u522B\uFF1F","date":"2022-09-27T00:00:00.000Z","tags":[{"inline":true,"label":"C/C++","permalink":"/blog/tags/c-c"},{"inline":true,"label":"\u8BED\u6CD5\u7EC6\u8282","permalink":"/blog/tags/\u8BED\u6CD5\u7EC6\u8282"}],"readingTime":3.22,"hasTruncateMarker":true,"authors":[{"name":"El Syzomnia","title":"El Furnia \u6240\u6709\u8005","page":{"permalink":"/blog/authors/el"},"socials":{"twitter":"https://twitter.com/syzomnia_el","github":"https://github.com/syzomnia-el"},"imageURL":"https://s2.loli.net/2024/11/02/DpkzHxsJwqtPrdB.webp","key":"el"}],"frontMatter":{"title":"++i \u4E0E i++ \u7684\u533A\u522B","authors":"el","tags":["C/C++","\u8BED\u6CD5\u7EC6\u8282"]},"unlisted":false,"nextItem":{"title":"7-2 \u56FD\u738B\u7684\u5956\u52B1\u2014\u2014\u5206\u6570\u53D6\u6A21\u3001\u5206\u6CBB\u601D\u60F3\u3001\u5FEB\u901F\u5E42\u3001int64\u7684\u4E58\u6CD5\u6A21\u8FD0\u7B97","permalink":"/blog/2021/10/02/PTA-solution"}},"content":"`++i` \u4E0E `i++` \u4E24\u8005\u6709\u4F55\u533A\u522B\uFF1F\\n\\n\u5728\u6559\u5B66\u4E2D\u901A\u5E38\u5C06\u5176\u63CF\u8FF0\u4E3A\uFF1A\\n> `++i`\uFF1A\u5148\u81EA\u589E\uFF0C\u540E\u8D4B\u503C\\n>\\n> `i++`\uFF1A\u5148\u8D4B\u503C\uFF0C\u540E\u81EA\u589E\\n\\n\u4F46\u4E8B\u5B9E\u5E76\u4E0D\u662F\u50CF\u770B\u4E0A\u53BB\u90A3\u6837\u7B80\u5355\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u95EE\u9898\u63CF\u8FF0\\n\\n\u4EE5\u4E0B\u9762\u7684\u4EE3\u7801\u4E3A\u4F8B\uFF1A\\n\\n```cpp\\nint i = 0;\\nint j = 0;\\nint k = 0;\\nint l = 0;\\n\\n++i;\\nj++;\\n\\nstd::cout << i << std::endl;\\nstd::cout << j << std::endl;\\nstd::cout << ++k << std::endl;\\nstd::cout << l++ << std::endl;\\n```\\n\\n\u8F93\u51FA\u7ED3\u679C\u5982\u4E0B\uFF1A\\n\\n```\\n1\\n1\\n1\\n0\\n```\\n\\n\u4F3C\u4E4E\u5B8C\u5168\u7B26\u5408\u3002\u4F46\u5982\u679C\u5C06\u4EE3\u7801\u6539\u6210\u4E0B\u9762\u8FD9\u6837\uFF0C\u7ED3\u679C\u4F1A\u662F\u4EC0\u4E48\uFF1F\\n\\n```cpp\\nint i = 0;\\nint j = 0;\\n\\ni = ++i;\\nj = j++;\\n\\nstd::cout << i << std::endl;\\nstd::cout << j << std::endl;\\n```\\n\\n\u6B63\u786E\u7B54\u6848\u662F\uFF1A\\n\\n```\\n1\\n0\\n```\\n\\n\u662F\u5426\u4E0E\u4F60\u9884\u671F\u7684\u7ED3\u679C\u4E0D\u592A\u4E00\u81F4\uFF1F\u662F\u7684\uFF0C\u8FD9\u5C31\u662F\u5173\u952E\u3002\\n\\n## \u5206\u6790\\n\\n\u4ECE\u4E0A\u9762\u7684\u4F8B\u5B50\u6211\u4EEC\u770B\u51FA\uFF0C`i++` \u5E76\u975E\u7B80\u5355\u7684\u300C\u5148\u8D4B\u503C\uFF0C\u540E\u81EA\u589E\u300D\u3002\\n\\n\u4E8B\u5B9E\u4E0A\uFF0C\u7528 `x86-64 gcc 12.2` \u7F16\u8BD1\u540E\u67E5\u770B\u7F16\u8BD1\u6210\u7684\u6C47\u7F16\u4EE3\u7801\u53EF\u77E5\uFF0C`i++` \u521B\u5EFA\u4E86\u4E00\u4E2A\u4E2D\u95F4\u53D8\u91CF\uFF0C\u5B9E\u9645\u53C2\u4E0E\u8D4B\u503C\u7684\u662F\u8FD9\u4E2A\u4E2D\u95F4\u53D8\u91CF\uFF0C\u5373\\n\\n```cpp\\ni = i++;\\n```\\n\\n\u5F97\u5230\u5982\u4E0B\u6C47\u7F16\u4EE3\u7801\uFF1A\\n\\n```nasm\\nmov eax, DWORD PTR [rbp-4]\\nlea edx, [rax+1]\\nmov DWORD PTR [rbp-4], edx\\nmov DWORD PTR [rbp-4], eax\\n```\\n\\n\u53EF\u4EE5\u89C6\u4F5C\\n\\n```cpp\\nint tmp1 = i;\\nint tmp2 = i + 1;\\ni = tmp2\\ni = tmp1;\\n```\\n\\n\u800C `++i` \u5219\u4E0D\u540C\uFF0C\u5B83\u4F1A\u5BF9\u539F\u503C\u76F4\u63A5\u8FDB\u884C\u64CD\u4F5C\uFF0C\u5373\\n\\n```cpp\\ni = ++i;\\n```\\n\\n\u5F97\u5230\u5982\u4E0B\u6C47\u7F16\u4EE3\u7801\uFF1A\\n\\n```nasm\\nadd DWORD PTR [rbp-4], 1\\n```\\n\\n\u53EF\u4EE5\u89C6\u4F5C\\n\\n```cpp\\ni = i + 1;\\n```\\n\\n\u8FD9\u5C31\u89E3\u91CA\u4E86\u524D\u9762\u7684\u4F8B\u5B50\u4E2D\uFF0C\u4E3A\u4EC0\u4E48 `i = ++i` \u7684\u7ED3\u679C\u4E3A `1`\uFF0C\u4F46 `i = i++` \u7684\u7ED3\u679C\u5374\u4E3A `0`\u3002\\n\\n## \u8865\u5145\\n\\n\u5F53\u76F4\u63A5\u5355\u72EC\u4F7F\u7528\u65F6\uFF0C\u5373\\n\\n```cpp\\ni++;\\n```\\n\\n\u6216\\n\\n```cpp\\n++i;\\n```\\n\\n\u5C06\u5F97\u5230\u5982\u4E0B\u6C47\u7F16\u4EE3\u7801\uFF1A\\n\\n```nasm\\nadd DWORD PTR [rbp-4], 1\\n```\\n\\n\u6B64\u65F6\u7ECF\u7F16\u8BD1\u5668\u4F18\u5316\uFF0C\u4E24\u8005\u5E76\u65E0\u5DEE\u522B\u3002"},{"id":"/2021/10/02/PTA-solution","metadata":{"permalink":"/blog/2021/10/02/PTA-solution","editUrl":"https://github.com/syzomnia-el/el-furnia/edit/main/blog/2021-10-02-PTA-solution.md","source":"@site/blog/2021-10-02-PTA-solution.md","title":"7-2 \u56FD\u738B\u7684\u5956\u52B1\u2014\u2014\u5206\u6570\u53D6\u6A21\u3001\u5206\u6CBB\u601D\u60F3\u3001\u5FEB\u901F\u5E42\u3001int64\u7684\u4E58\u6CD5\u6A21\u8FD0\u7B97","description":"1 \u95EE\u9898","date":"2021-10-02T00:00:00.000Z","tags":[{"inline":true,"label":"C/C++","permalink":"/blog/tags/c-c"},{"inline":true,"label":"\u7B97\u6CD5","permalink":"/blog/tags/\u7B97\u6CD5"},{"inline":true,"label":"\u5927\u6570\u8FD0\u7B97","permalink":"/blog/tags/\u5927\u6570\u8FD0\u7B97"},{"inline":true,"label":"PTA","permalink":"/blog/tags/pta"}],"readingTime":17.69,"hasTruncateMarker":true,"authors":[{"name":"El Syzomnia","title":"El Furnia \u6240\u6709\u8005","page":{"permalink":"/blog/authors/el"},"socials":{"twitter":"https://twitter.com/syzomnia_el","github":"https://github.com/syzomnia-el"},"imageURL":"https://s2.loli.net/2024/11/02/DpkzHxsJwqtPrdB.webp","key":"el"}],"frontMatter":{"title":"7-2 \u56FD\u738B\u7684\u5956\u52B1\u2014\u2014\u5206\u6570\u53D6\u6A21\u3001\u5206\u6CBB\u601D\u60F3\u3001\u5FEB\u901F\u5E42\u3001int64\u7684\u4E58\u6CD5\u6A21\u8FD0\u7B97","authors":"el","tags":["C/C++","\u7B97\u6CD5","\u5927\u6570\u8FD0\u7B97","PTA"]},"unlisted":false,"prevItem":{"title":"++i \u4E0E i++ \u7684\u533A\u522B","permalink":"/blog/2022/09/27/differences-between-pre-plus-and-post-plus"},"nextItem":{"title":"7-3 \u8D77\u6CE1\u6392\u5E8F\u2014\u2014\u4ECE\u5192\u6CE1\u5230\u5F52\u5E76","permalink":"/blog/2021/09/30/PTA-solution"}},"content":"## 1 \u95EE\u9898\\n\\n<details>\\n<summary><strong>\u9898\u9762\u63CF\u8FF0</strong></summary>\\n\\n> \u56FD\u9645\u8C61\u68CB\u662F\u5F88\u4E45\u4EE5\u524D\u7531\u4E00\u4E2A\u5370\u5EA6\u4EBA Shashi \u53D1\u660E\u7684\uFF0C\u5F53\u4ED6\u628A\u8BE5\u53D1\u660E\u732E\u7ED9\u56FD\u738B\u7684\u65F6\u5019\uFF0C\u56FD\u738B\u5F88\u9AD8\u5174\uFF0C\u5C31\u8BB8\u8BFA\u53EF\u4EE5\u7ED9\u8FD9\u4E2A\u53D1\u660E\u4EBA\u4EFB\u4F55\u4ED6\u60F3\u8981\u7684\u5956\u8D4F\u3002Shashi\\n> \u8981\u6C42\u4EE5\u8FD9\u79CD\u65B9\u5F0F\u7ED9\u4ED6\u4E00\u4E9B\u7CAE\u98DF\uFF1A\u68CB\u76D8\u7684\u7B2C 1 \u4E2A\u65B9\u683C\u91CC\u53EA\u653E 1 \u7C92\u9EA6\u7C92\uFF0C\u7B2C 2 \u683C q \u4E2A,\u7B2C 3 \u683C q^2^ \u4E2A,\u7B2C 4 \u683C q^3^ \u4E2A\u2026\u2026\uFF0C\u76F4\u5230 n\\n> \u4E2A\u683C\u5B50\u5168\u90E8\u653E\u6EE1\u3002\u8FD9\u4E2A\u5956\u8D4F\u6700\u7EC8\u4F1A\u662F\u4EC0\u4E48\u6837\u5B50\u7684\u5462\uFF1FShashi \u5DF2\u7ECF\u6709\u7B97\u6CD5\u4E86\uFF0C\u8BF7\u4F60\u7B97\u4E00\u7B97\u5427\u3002\\n>\\n> \u5F53\u7136 Shashi \u5E76\u4E0D\u5173\u5FC3\u5177\u4F53\u7684\u6570\u6709\u591A\u5C11\u4E86\uFF0C\u4ED6\u6709\u4E00\u4E2A\u68C0\u9A8C\u4F60\u7684\u7B54\u6848\u662F\u5426\u4E0E\u4ED6\u5FC3\u610F\u76F8\u901A\u7684\u529E\u6CD5:\u628A\u4F60\u6C42\u51FA\u7684\u7B54\u6848\u5BF9 100000007 \u53D6\u6A21\u770B\u770B\u548C\\n> Shashi \u7B97\u7684\u662F\u5426\u4E00\u6837\u5C31\u884C\u4E86\u3002\\n>\\n> **\u8F93\u5165\u63CF\u8FF0**\\n>\\n> **\u672C\u9898\u8F93\u5165\u5177\u6709\u591A\u7EC4\u6837\u4F8B**\u3002\\n>\\n> \u7B2C\u4E00\u884C\u4E3A\u4E00\u4E2A\u6570 t (1 \u2264 t \u2264 500)\uFF0C\u4EE3\u8868\u6D4B\u8BD5\u6570\u636E\u7684\u7EC4\u6570\u3002\\n>\\n> \u4E4B\u540E\u7684 t \u884C\uFF0C\u6BCF\u884C\u4E24\u4E2A\u6570 q, n (1 \u2264 q, n \u2264 10^18^)\uFF0C\u542B\u4E49\u89C1\u9898\u76EE\u63CF\u8FF0\u3002\\n>\\n> **\u8F93\u51FA\u63CF\u8FF0**\\n>\\n> \u8F93\u51FA\u5171 t \u884C\uFF0C\u6BCF\u884C\u4E00\u4E2A\u6570\uFF0C\u4E3A\u4F60\u7B97\u7684\u7B54\u6848\u3002\\n> **\u53CB\u60C5\u63D0\u9192\uFF1A\u4F60\u7B97\u7684\u7B54\u6848\u5E94\u8BE5\u6BD4 100000007 \u5C0F\u3002**\\n>\\n> **\u6837\u4F8B\u63CF\u8FF0**\\n>\\n> \u6837\u4F8B\u8F93\u5165\uFF1A\\n>\\n> ```\\n> 3\\n> 2 1\\n> 2 2\\n> 2 3\\n> ```\\n>\\n> \u6837\u4F8B\u8F93\u51FA\uFF1A\\n>\\n> ```\\n> 1\\n> 3\\n> 7\\n> ```\\n>\\n> **\u6837\u4F8B\u89E3\u91CA**\\n>\\n> \u5BF9\u4E8E\u6837\u4F8B\uFF1A\\n> - q = 2, n = 1 \u65F6\u4EC5\u67091\u4E2A\u9EA6\u7C92\\n> - q = 2, n = 2 \u65F6\u6709 1 + 2 = 3 \u4E2A\u9EA6\u7C92\\n> - q = 2, n = 3 \u65F6\u6709 1 + 2 + 2^2^ = 7 \u4E2A\u9EA6\u7C92\\n\\n> \u4EE3\u7801\u957F\u5EA6\u9650\u5236\uFF5C16 KB  \\n> \u65F6\u95F4\u9650\u5236\uFF5C1000 ms  \\n> \u5185\u5B58\u9650\u5236\uFF5C256 MB\\n\\n</details>\\n\\n## 2 \u5206\u6790\\n\\n### 2.1 \u6570\u5B66\u62BD\u8C61\\n\\n\u8BE5\u95EE\u9898\u672C\u8D28\u4E3A\u7B49\u6BD4\u6570\u5217\u6C42\u548C\u95EE\u9898\uFF0C$1$ \u4E3A\u9996\u9879\uFF0C$q$ \u4E3A\u516C\u6BD4\uFF0C$n$ \u4E3A\u9879\u6570\u3002\\n\u9700\u8981\u6CE8\u610F\uFF1A\\n\\n- \u6BCF\u6B21\u8F93\u5165\u7684 $q$, $n$ \u53EF\u80FD\u4E0D\u540C\uFF1B\\n- $q$, $n$ \u7684\u8303\u56F4\u8D85\u8FC7 int32\uFF0C\u9700\u8981\u7528 int64 \u6765\u5B58\u50A8\uFF1B\\n- \u7ED3\u679C\u8981\u5BF9 $100000007$ \u53D6\u6A21\uFF1B\\n- \u8BA1\u7B97\u8FC7\u7A0B\u4E2D\u6D89\u53CA\u5230\u5927\u6570\u4E58\u6CD5\uFF0C\u76F4\u63A5\u7528 `*` \u8FD0\u7B97\u7B26\u4F1A\u9020\u6210\u6570\u636E\u6EA2\u51FA\uFF0C\u9700\u8981\u7528\u81EA\u5DF1\u8BBE\u8BA1\u7684\u5927\u6570\u4E58\u6CD5\u6A21\u8FD0\u7B97\u4F5C\u4E3A\u66FF\u4EE3\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n### 2.2 \u89E3\u51B3\u65B9\u6CD5\\n\\n#### 2.2.1 \u7B49\u6BD4\u6C42\u548C\\n\\n\u7B49\u6BD4\u6570\u5217\u6C42\u548C\u65B9\u6CD5\u4E00\u822C\u6709\u76F4\u63A5\u6C42\u548C\u3001\u4E8C\u5206\u9012\u5F52\u4EE5\u53CA\u8FD0\u7528\u7B49\u6BD4\u6C42\u548C\u901A\u9879\u516C\u5F0F\u3002\\n\\n\u5BF9\u4E8E $q=1$ \u7684\u60C5\u51B5\uFF0C\u663E\u7136\u7B49\u6BD4\u6C42\u548C\u901A\u9879\u516C\u5F0F\u662F\u6700\u597D\u7684\u9009\u62E9\uFF0C\u53D6\u6A21\u5BF9\u6B64\u5E76\u65E0\u5F71\u54CD\uFF0C\u65F6\u95F4\u590D\u6742\u5EA6\u4E3A $O(1)$\uFF0C\u56E0\u6B64\u95EE\u9898\u96C6\u4E2D\u5728 $q>1$\\n\u7684\u60C5\u51B5\u4E4B\u4E0A\u3002\\n\\n\u672C\u6587\u4E2D\u6211\u4EEC\u5C06\u4F9D\u6B21\u5BF9 $q>1$ \u60C5\u51B5\u4E0B\u7684**\u7B49\u6BD4\u6C42\u548C\u901A\u9879\u516C\u5F0F\u6CD5**\u548C**\u4E8C\u5206\u9012\u5F52\u6CD5**\u8FDB\u884C\u8BA8\u8BBA\u5206\u6790\u3002\\n\\n##### 2.2.1.1 \u6C42\u548C\u516C\u5F0F\uFF1A\u5206\u6570\u53D6\u6A21\u2014\u2014\u4E58\u6CD5\u9006\u5143\\n\\n\u7B49\u6BD4\u6570\u5217\u6C42\u548C\u901A\u9879\u516C\u5F0F\u5982\u4E0B\uFF1A\\n$$\\nS_{n}=\\\\dfrac{1-q^n}{1-q}\\n$$\\n\u6C42\u548C\u90E8\u5206\u65F6\u95F4\u590D\u6742\u5EA6\u53EA\u6709 $O(1)$\uFF0C\u4E3B\u8981\u53D6\u51B3\u4E8E\u6C42\u89E3 $q^n$ \u7684\u7B97\u6CD5\u3002\\n\\n\u4F46\u6A21\u8FD0\u7B97\u5BF9\u9664\u6CD5**\u4E0D\u5B58\u5728**\u5206\u914D\u7387\uFF0C\u5373\\n$$\\n\\\\dfrac{a \\\\bmod p}{b \\\\bmod p} \\\\ne \\\\dfrac{a}{b} \\\\bmod p\\n$$\\n\u4E0D\u80FD\u76F4\u63A5\u4F7F\u7528\u901A\u9879\u516C\u5F0F\u3002\\n\\n\u5BF9\u5206\u6570\u53D6\u6A21\u6709\u4E24\u79CD\u65B9\u6CD5\uFF1A\u4E58\u6CD5\u9006\u5143\u548C\u53D8\u6362\u6A21\u503C\uFF0C\u6211\u4EEC\u5728\u6B64\u4EC5\u5BF9\u9006\u5143\u8FDB\u884C\u8BA8\u8BBA\uFF0C\u53D8\u6362\u6A21\u503C\u53EF\u53C2\u89C1 [[\u53C2\u8003\u6587\u7AE01](#4-\u53C2\u8003\u6587\u7AE0)]\u3002\\n\\n> \u82E5\u5728 $\\\\bmod~p$ \u610F\u4E49\u4E0B\uFF0C\u5BF9\u4E8E\u4E00\u4E2A\u6574\u6570 $a$\uFF0C\u6709 $a \\\\cdot b \\\\equiv 1 \\\\pmod p$\uFF0C\u90A3\u4E48\u8FD9\u4E2A\u6574\u6570 $b$ \u4E0E $a$ \u4E92\u4E3A**\u4E58\u6CD5\u9006\u5143**\\n\\n\u6C42\u4E58\u6CD5\u9006\u5143\u7684\u65B9\u6CD5\u4E3B\u8981\u4E3A\uFF1A\u5C06 $a \\\\cdot b \\\\equiv 1 \\\\pmod p$ \u8F6C\u5316\u4E3A $ax+py=1$\uFF0C\u7528\u62D3\u5C55\u6B27\u51E0\u91CC\u5F97\u7B97\u6CD5\u89E3\u4E8C\u5143\u4E00\u6B21\u65B9\u7A0B\u89E3\u51FA $x$\u3002\\n\\n\u4F46\u672C\u9898\u4E2D $p=100000007$ \u662F\u8D28\u6570\uFF0C\u56E0\u6B64\u53EF\u4EE5\u7528\u8D39\u9A6C\u5C0F\u5B9A\u7406\uFF08\u8BE6\u89C1 [[\u53C2\u8003\u6587\u7AE03](#4-\u53C2\u8003\u6587\u7AE0)]\uFF09\u76F4\u63A5\u6C42\u89E3\u3002\\n\\n> **\u8D39\u9A6C\u5C0F\u5B9A\u7406\uFF1A**\\n>\\n> \u82E5 $a$ \u4E3A\u6574\u6570\uFF0C$p$ \u4E3A\u8D28\u6570\uFF0C\u5219\u6709 $a^p \\\\bmod p \\\\equiv a$\\n>\\n> \u5F53 $a$ \u4E0D\u662F $p$ \u7684\u500D\u6570\u65F6\uFF0C\u53EF\u5199\u4E3A $a^{p-1} \\\\bmod p \\\\equiv 1$\\n\\n**\u6545\u6709**\\n$$\\n\\\\dfrac{a}{b} \\\\bmod p = (b^{p-1} \\\\bmod p) \\\\cdot (\\\\dfrac{a}{b} \\\\bmod p) = a \\\\cdot b^{p-2} \\\\bmod p\\n$$\\n**\u5373**\\n$$\\nS_n = (1-q^n) \\\\cdot (1-q)^{p-2} \\\\bmod p\\n$$\\n\\n:::caution\\n\\n\u82E5 $b$ \u662F $p$ \u7684\u500D\u6570\u5219\u4E0D\u80FD\u7528\u9006\u5143\u3002\u56E0\u4E3A\u6B64\u65F6 $b \\\\bmod p \\\\equiv 0$\uFF0C\u65E0\u6CD5\u6C42\u89E3\u9006\u5143\u3002\\n\\n:::\\n\\n\u4EE3\u7801\u5B9E\u73B0\u5982\u4E0B\uFF1A\\n\\n```c\\n// q: \u516C\u6BD4; n\uFF1A\u9879\u6570; mod: \u6A21; qpow: \u6C42\u5E42\u51FD\u6570\\nif (q == 1) {\\n\\tprintf(\\"%lld\\\\n\\", n % mod);\\n} else {\\n\\tprintf(\\"%lld\\\\n\\", (qpow(q, n) - 1) * qpow(q - 1, mod - 2) % mod);\\n}\\n```\\n\\n##### 2.2.1.2 \u4E8C\u5206\u9012\u5F52\uFF1A\u6570\u5B66\u63A8\u5BFC\u2014\u2014\u5206\u6CBB\u601D\u60F3\\n\\n\u5982\u524D\u6587\u6240\u8FF0\uFF0C\u5F53 $b$ \u662F $p$ \u7684\u500D\u6570\u65F6\uFF0C\u65E0\u6CD5\u6C42\u89E3\u9006\u5143\u3002\\n\u5F53\u6570\u636E\u4E2D\u5B58\u5728\u4E0A\u8FF0\u5173\u7CFB\u65F6\uFF0C\u6211\u4EEC\u9700\u8981\u53E6\u5BFB\u4ED6\u6CD5\uFF0C\u6B64\u5904\u9009\u62E9\u4E8C\u5206\u9012\u5F52\u6CD5\u8FDB\u884C\u7B49\u6BD4\u6C42\u548C\u3002\\n\\n\u8981\u8FDB\u884C\u4E8C\u5206\u9012\u5F52\uFF0C\u6211\u4EEC\u9996\u5148\u8981\u8FDB\u884C\u6570\u5B66\u63A8\u5BFC\uFF0C\u5F97\u51FA\u7B49\u6BD4\u6570\u5217\u524D $n$ \u9879\u548C $S_n$ \u7684\u9012\u63A8\u516C\u5F0F\u3002\u8FD0\u7528\u5206\u6CBB\u601D\u60F3\uFF0C\u6211\u4EEC\u5BF9 $S_n$ \u8FDB\u884C\u5206\u7C7B\u8BA8\u8BBA\uFF1A\\n$$\\nS_n = (q^0+q^1+q^2+\\\\dotsb+q^{n-1}) \\\\bmod p \\\\mskip0.8mu (n \\\\geqslant 1)\\n$$\\n**\u5F53 $n=1$ \u65F6\uFF0C\u6709**\\n$$\\nS_1=q^0=1\\n$$\\n**\u5F53 $n>1$ \u65F6\uFF0C\u6709**\\n\\n$$\\nS_n=\\\\begin{cases}\\n\\\\left[\\\\left(1 + q^{\\\\tfrac{n-1}{2}}\\\\right) \\\\cdot S_{\\\\tfrac{n-1}{2}} + q^{n-1}\\\\right] \\\\bmod p &(n\\\\text{\u4E3A\u5947\u6570})\\\\\\\\\\n\\\\left(1 + q^{\\\\tfrac{n}{2}}\\\\right) \\\\cdot S_{\\\\tfrac n 2} \\\\bmod p &(n\\\\text{\u4E3A\u5076\u6570})\\n\\\\end{cases}\\n$$\\n\\n\u8BE5\u7B97\u6CD5\u6C42\u548C\u90E8\u5206\u65F6\u95F4\u590D\u6742\u5EA6\u4E3A $O(\\\\log n)$\uFF0C\u82E5\u6C42\u89E3 $q^n$ \u7684\u7B97\u6CD5\u65F6\u95F4\u590D\u6742\u5EA6\u4E3A $O(x)$\uFF0C\u5219\u603B\u65F6\u95F4\u590D\u6742\u5EA6\u4E3A $O(\\nx\\\\log n)$\u3002\\n\\n<font color=\\"#999aaa\\">\u4EE3\u7801\u5B9E\u73B0\u5982\u4E0B\uFF1A</font>\\n\\n```c\\n// q: \u516C\u6BD4; n: \u9879\u6570; mod: \u6A21; qpow: \u6C42\u5E42\u51FD\u6570; qmul: \u6C42\u79EF\u51FD\u6570\\nlong long sum(long long q, long long n) {\\n\\tif (n == 1) {\\n\\t\\treturn 1;\\n\\t}\\n\\t// \u5373 n % 2 == 1\\n\\tif (n & 1) {\\n\\t\\t// \u6574\u578B\u9664\u6CD5\u5177\u6709\u5411\u4E0B\u53D6\u6574\u7684\u7279\u70B9\\n\\t\\t// n \u4E3A\u5947\u6570\u65F6, (n - 1) / 2 === n / 2, \u53EF\u636E\u6B64\u7B80\u5316\u4EE3\u7801\\n\\t\\t// n >> 1 \u5373 n / 2\\n\\t\\treturn (qmul(1 + qpow(q, n >> 1), sum(q, n >> 1)) + qpow(q, n - 1)) % mod;\\n\\t} else {\\n\\t\\treturn qmul(1 + qpow(q, n >> 1), sum(q, n >> 1));\\n\\t}\\n}\\n```\\n\\n#### 2.2.2 \u6C42\u89E3 $q^{n}$ \u2014\u2014\u5FEB\u901F\u5E42\u53D6\u6A21\\n\\n\u89E3\u51B3\u4E86\u7B49\u6BD4\u6C42\u548C\u7684\u95EE\u9898\uFF0C\u5C31\u53EA\u5269\u6C42\u89E3 $q^n$ \u4E86\u3002\\n\u6B64\u5904\u9009\u62E9\u4E86\u4F4D\u8FD0\u7B97\u7684\u5FEB\u901F\u5E42\u53D6\u6A21\u7B97\u6CD5\uFF0C\u65F6\u95F4\u590D\u6742\u5EA6\u4E3A $O(\\\\log n)$\u3002\\n\\n\u4EE3\u7801\u5B9E\u73B0\u5982\u4E0B\uFF1A\\n\\n```c\\n// base: \u5E95\u6570; power: \u6307\u6570; mod: \u6A21; qmul: \u6C42\u79EF\u51FD\u6570\\nlong long qpow(long long base, long long power) {\\n\\t// \u5BF9\u6307\u6570\u7684\u5E95\u5148\u53D6\u6A21\uFF0C\u51CF\u5C11\u8FD0\u7B97\u6B21\u6570\\n\\tbase %= mod;\\n\\tlong long ans = 1;\\n\\twhile (power) {\\n\\t\\t// \u5373 power % 2 == 1\\n\\t\\tif (power & 1) {\\n\\t\\t\\tans = qmul(ans, base);\\n\\t\\t}\\n\\t\\tbase = qmul(base, base);\\n\\t\\t// \u5373 power /= 2\\n\\t\\tpower >>= 1;\\n\\t}\\n\\treturn ans;\\n}\\n```\\n\\n#### 2.2.3 int64 \u7684\u4E58\u6CD5\u6A21\u8FD0\u7B97\u2014\u2014\u4F4D\u8FD0\u7B97\u6CD5\\n\\n\u8FD9\u90E8\u5206\u4F18\u5316\u76F4\u63A5\u501F\u7528 [[\u53C2\u8003\u6587\u7AE04](#4-\u53C2\u8003\u6587\u7AE0)]\uFF0C\u5C06\u5927\u6570\u4E58\u6CD5\u7684\u65F6\u95F4\u590D\u6742\u5EA6\u4ECE\u53CD\u590D\u7FFB\u500D\u6CD5\uFF08\u6309\u4F4D\u76F8\u4E58\uFF09\u7684 $O(\\\\log n)$ \u964D\u5230\u4E86\\n$\\\\color{red}{O(1)}$\u3002\\n\\n\u4EE3\u7801\u5B9E\u73B0\u5982\u4E0B\uFF1A\\n\\n```c\\n// a, b: \u4E58\u6570; mod: \u6A21\\nlong long qmul(long long a, long long b) {\\n\\t// \u524D\u4E24\u53E5\u5904\u7406\u4E86\u8D1F\u6570\u548C\u6570\u503C\u8FC7\u5927\u7684\u60C5\u51B5\\n\\ta = (a % mod + mod) % mod;\\n\\tb = (b % mod + mod) % mod;\\n\\tlong long c = a * (long double) b / mod;\\n\\tlong long ans = a * b - c * mod;\\n\\t// \u82E5\u7ED3\u679C\u4E0D\u5728 [0, mod) \u533A\u95F4\u5219\u8C03\u6574\u4E00\u4E0B\\n\\tif (ans < 0) {\\n\\t\\tans += mod;\\n\\t} else if (ans >= mod) {\\n\\t\\tans -= mod;\\n\\t}\\n\\treturn ans;\\n}\\n```\\n\\n## 3 \u5B9E\u73B0\\n\\n### 3.1 \u6C42\u548C\u516C\u5F0F\\n\\n\u5B8C\u6574\u4EE3\u7801\u5B9E\u73B0\u5982\u4E0B\uFF1A\\n\\n\u603B\u65F6\u95F4\u590D\u6742\u5EA6\u4E3A $O(\\\\log n)$\u3002\\n\\n```c\\n#include<stdio.h>\\n#define mod 100000007\\n\\nlong long qmul(long long a, long long b) {\\n\\ta = (a % mod + mod) % mod;\\n\\tb = (b % mod + mod) % mod;\\n\\tlong long c = a * (long double) b / mod;\\n\\tlong long ans = a * b - c * mod;\\n\\tif (ans < 0) {\\n\\t\\tans += mod;\\n\\t} else if (ans >= mod) {\\n\\t\\tans -= mod;\\n\\t}\\n\\treturn ans;\\n}\\n\\nlong long qpow(long long base, long long power) {\\n\\tbase %= mod;\\n\\tlong long ans = 1;\\n\\twhile (power) {\\n\\t\\tif (power & 1) {\\n\\t\\t\\tans = qmul(ans, base);\\n\\t\\t}\\n\\t\\tbase = qmul(base, base);\\n\\t\\tpower >>= 1;\\n\\t}\\n\\treturn ans;\\n}\\n\\nint main() {\\n\\tint t;\\n\\tscanf(\\"%d\\", &t);\\n\\tlong long q, n;\\n\\twhile (t--) {\\n\\t\\tscanf(\\"%lld %lld\\", &q, &n);\\n\\t\\tif (q == 1) {\\n\\t\\t\\tprintf(\\"%lld\\\\n\\", n % mod);\\n\\t\\t} else {\\n\\t\\t\\tprintf(\\"%lld\\\\n\\", (qpow(q, n) - 1) * qpow(q - 1, mod - 2) % mod);\\n\\t\\t}\\n\\t}\\n\\treturn 0;\\n}\\n```\\n\\n\u63D0\u4EA4\u7ED3\u679C\u5982\u4E0B\uFF1A\\n\\n<font color=\\"red\\"><strong>7ms</strong></font>\uFF0C\u4F4E\u5230\u60CA\u4EBA\u7684\u8017\u65F6\uFF01\\n\\n![\u6C42\u548C\u516C\u5F0F\u6CD5\u63D0\u4EA4\u7ED3\u679C](https://s2.loli.net/2023/03/22/8ozAkJ2bDMWPBtT.webp)\\n\\n### 3.2 \u4E8C\u5206\u9012\u5F52\\n\\n\u5B8C\u6574\u4EE3\u7801\u5B9E\u73B0\u5982\u4E0B\uFF1A\\n\\n\u603B\u65F6\u95F4\u590D\u6742\u5EA6\u4E3A $O(\\\\log^2 n)$\\n\\n```c\\n#include<stdio.h>\\n#define mod 100000007\\n\\nlong long qmul(long long a, long long b) {\\n\\ta = (a % mod + mod) % mod;\\n\\tb = (b % mod + mod) % mod;\\n\\tlong long c = a * (long double) b / mod;\\n\\tlong long ans = a * b - c * mod;\\n\\tif (ans < 0) {\\n\\t\\tans += mod;\\n\\t} else if (ans >= mod) {\\n\\t\\tans -= mod;\\n\\t}\\n\\treturn ans;\\n}\\n\\nlong long qpow(long long base, long long power) {\\n\\tbase %= mod;\\n\\tlong long ans = 1;\\n\\twhile (power) {\\n\\t\\tif (power & 1) {\\n\\t\\t\\tans = qmul(ans, base);\\n\\t\\t}\\n\\t\\tbase = qmul(base, base);\\n\\t\\tpower >>= 1;\\n\\t}\\n\\treturn ans;\\n}\\n\\nlong long sum(long long q, long long n) {\\n\\tif (n == 1) {\\n\\t\\treturn 1;\\n\\t}\\n\\tif (n & 1) {\\n\\t\\treturn (qmul(1 + qpow(q, n >> 1), sum(q, n >> 1)) + qpow(q, n - 1)) % mod;\\n\\t} else {\\n\\t\\treturn qmul(1 + qpow(q, n >> 1), sum(q, n >> 1));\\n\\t}\\n}\\n\\nint main() {\\n\\tint t;\\n\\tscanf(\\"%d\\", &t);\\n\\tlong long q, n;\\n\\twhile (t--) {\\n\\t\\tscanf(\\"%lld %lld\\", &q, &n);\\n\\t\\tif (q == 1) {\\n\\t\\t\\tprintf(\\"%lld\\\\n\\", n % mod);\\n\\t\\t} else {\\n\\t\\t\\tprintf(\\"%lld\\\\n\\", sum(q, n));\\n\\t\\t}\\n\\t}\\n\\treturn 0;\\n}\\n```\\n\\n\u63D0\u4EA4\u7ED3\u679C\u5982\u4E0B\uFF1A\\n\\n\u76F8\u8F83\u4E8E\u7B49\u6BD4\u6C42\u548C\u901A\u9879\u516C\u5F0F\u6CD5\uFF0C\u4E8C\u5206\u6CD5\u8017\u65F6\u6709\u6240\u589E\u52A0\uFF0C\u4F46\u4F9D\u65E7\u76F8\u5F53\u5FEB\u901F\u4E14\u9002\u7528\u8303\u56F4\u66F4\u5E7F\u3002\\n\\n![\u4E8C\u5206\u9012\u5F52\u6CD5\u63D0\u4EA4\u7ED3\u679C](https://s2.loli.net/2023/03/22/bJUZWmROaxlNus4.webp)\\n\\n## 4 \u53C2\u8003\u6587\u7AE0\\n\\n1. [\u300Apoj 1845 Sumdiv \u6570\u8BBA--\u7B49\u6BD4\u6570\u5217\u548C(\u9006\u5143\u6216\u8005\u9012\u5F52)\u300B](https://blog.csdn.net/a601025382s/article/details/12233213)\\n2. [\u300A\u7B49\u6BD4\u6570\u5217\u6C42\u548C\uFF0C\u4E8C\u5206\u9012\u5F52\u300B](https://blog.csdn.net/qq_43611624/article/details/108315978)\\n3. [\u300A\u8D39\u9A6C\u5C0F\u5B9A\u7406\uFF08\u6613\u61C2\uFF09\u300B](https://blog.csdn.net/weixin_45322740/article/details/100017122)\\n4. [\u300A\u5C0F\u6280\u5DE71\u2014\u2014\u957F\u6574\u578B\uFF1A64\u4F4D\u6574\u6570\u7684\u4E58\u6CD5\u6A21\u8FD0\u7B97\u300B](https://blog.csdn.net/frankchenfu/article/details/82259794)"},{"id":"/2021/09/30/PTA-solution","metadata":{"permalink":"/blog/2021/09/30/PTA-solution","editUrl":"https://github.com/syzomnia-el/el-furnia/edit/main/blog/2021-09-30-PTA-solution.md","source":"@site/blog/2021-09-30-PTA-solution.md","title":"7-3 \u8D77\u6CE1\u6392\u5E8F\u2014\u2014\u4ECE\u5192\u6CE1\u5230\u5F52\u5E76","description":"\u95EE\u9898","date":"2021-09-30T00:00:00.000Z","tags":[{"inline":true,"label":"C/C++","permalink":"/blog/tags/c-c"},{"inline":true,"label":"\u7B97\u6CD5","permalink":"/blog/tags/\u7B97\u6CD5"},{"inline":true,"label":"\u6392\u5E8F\u7B97\u6CD5","permalink":"/blog/tags/\u6392\u5E8F\u7B97\u6CD5"},{"inline":true,"label":"PTA","permalink":"/blog/tags/pta"}],"readingTime":4.39,"hasTruncateMarker":true,"authors":[{"name":"El Syzomnia","title":"El Furnia \u6240\u6709\u8005","page":{"permalink":"/blog/authors/el"},"socials":{"twitter":"https://twitter.com/syzomnia_el","github":"https://github.com/syzomnia-el"},"imageURL":"https://s2.loli.net/2024/11/02/DpkzHxsJwqtPrdB.webp","key":"el"}],"frontMatter":{"title":"7-3 \u8D77\u6CE1\u6392\u5E8F\u2014\u2014\u4ECE\u5192\u6CE1\u5230\u5F52\u5E76","authors":"el","tags":["C/C++","\u7B97\u6CD5","\u6392\u5E8F\u7B97\u6CD5","PTA"]},"unlisted":false,"prevItem":{"title":"7-2 \u56FD\u738B\u7684\u5956\u52B1\u2014\u2014\u5206\u6570\u53D6\u6A21\u3001\u5206\u6CBB\u601D\u60F3\u3001\u5FEB\u901F\u5E42\u3001int64\u7684\u4E58\u6CD5\u6A21\u8FD0\u7B97","permalink":"/blog/2021/10/02/PTA-solution"},"nextItem":{"title":"\u5224\u65AD\u4E00\u4E2A\u6570\u662F\u5426\u4E3A\u8D28\u6570\u2014\u2014\u4F18\u5316\u5E38\u89C1O(sqrt(n)/2)\u590D\u6742\u5EA6\u7B97\u6CD5\u5B58\u5728\u7684\u95EE\u9898","permalink":"/blog/2020/03/19/PTA-solution"}},"content":"## \u95EE\u9898\\n\\n<details>\\n<summary><strong>\u9898\u9762\u63CF\u8FF0</strong></summary>\\n\\n> \u5982\u4E0B\u662F\u4E00\u4E2A\u8D77\u6CE1\u6392\u5E8F\u7684\u4FEE\u6539\u7A0B\u5E8F:\\n>\\n> ```cpp\\n> long long BubbleSort(int r[],int n){\\n> int bound,exchange=n-1;\\n> long long ans=0;\\n> while(exchange!=0){\\n>     bound=exchange,exchange=0;\\n>     for(int j=0;j<bound;j++){\\n>         if(r[j]>r[j+1]) \\n>         {\\n>             int temp=r[j];\\n>             r[j]=r[j+1];\\n>             r[j+1]=temp;\\n>             ans++;\\n>             exchange=j;\\n>         }\\n>     }\\n> }\\n> return ans;\\n> }\\n> ```\\n>\\n> \u8BF7\u4F60\u7ED9\u51FA\u4E0A\u8FF0\u51FD\u6570\u7684\u8FD4\u56DE\u503C\u3002\\n>\\n> **\u8F93\u5165\u63CF\u8FF0**\\n>\\n> \u7B2C\u4E00\u884C\u4E00\u4E2A\u6B63\u6574\u6570 n (1 \u2264 n \u2264 2\u22C510^5^)\\n> \u63A5\u4E0B\u6765\u4E00\u884C\u5171 n \u4E2A\u6570\uFF0C\u4F9D\u6B21\u4E3A r[] \u4E2D\u7684\u5143\u7D20\u4E14 r >\u4E2D\u7684\u5143\u7D20 r[i] (0 \u2264 i < n) \u6EE1\u8DB3 \u221210^18^ \u2264 r[i] \u2264 10^18^\u3002\\n>\\n> **\u8F93\u51FA\u63CF\u8FF0**\\n>\\n> \u4E00\u884C\u4E00\u4E2A\u6570\uFF0C\u51FD\u6570\u7684\u8FD4\u56DE\u503C\u3002\\n>\\n> **\u6837\u4F8B**\\n>\\n> **\u6837\u4F8B1**\\n>\\n> \u6837\u4F8B\u8F93\u5165\\n>\\n> ```\\n> 1\\n> 1\\n> ```\\n>\\n> \u6837\u4F8B\u8F93\u51FA\\n>\\n> ```\\n> 0\\n> ```\\n>\\n> **\u6837\u4F8B2**\\n>\\n> \u6837\u4F8B\u8F93\u5165\\n>\\n> ```\\n> 2\\n> 1 2\\n> \\n> ```\\n>\\n> \u6837\u4F8B\u8F93\u51FA\\n>\\n> ```\\n> 0\\n> ```\\n\\n> \u4EE3\u7801\u957F\u5EA6\u9650\u5236 | 16 KB   \\n> \u65F6\u95F4\u9650\u5236 | 1000 ms   \\n> \u5185\u5B58\u9650\u5236 | 512 MB\\n\\n</details>\\n\\n## \u5206\u6790\\n\\n\u8981\u6C42\u5BF9\u4E00\u4E2A\u6700\u5927\u6709 $2 \\\\cdot 10^5$\uFF08\u7EA6 $2^{18}$\uFF09\u4E2A\u5143\u7D20\u7684\u6570\u5217\u8FDB\u884C\u964D\u5E8F\u6392\u5E8F\uFF0C\u5E76\u8F93\u51FA\u6392\u5E8F\u8FC7\u7A0B\u4E2D\u53D1\u751F\u4EA4\u6362\u7684\u6B21\u6570\u3002\\n\\n\u4E4D\u4E00\u770B\u662F\u8981\u4F18\u5316\u7B97\u6CD5\u3002\u5B9E\u9645\u4E0A\uFF0C\u65E0\u5E8F\u5E8F\u5217\u5728\u964D\u5E8F\u6392\u5E8F\u8FC7\u7A0B\u4E2D\u53D1\u751F\u7684\u5143\u7D20\u4EA4\u6362\u6B21\u6570\uFF0C\u6B63\u662F\u539F\u5E8F\u5217\u7684\u5404\u5143\u7D20\\n**\u9006\u5E8F\u6570\u4E4B\u548C**\u3002\\n\\n1. \u6700\u5927\u5143\u7D20\u4E2A\u6570\u5728 int32 \u8303\u56F4\u5185\uFF1B\\n2. \u5355\u4E2A\u5143\u7D20\u7684\u8303\u56F4\u4E3A [$-10^{18}$, $10^{18}$]\uFF08\u7EA6 [$-2^{60}$, $2^{60}$]\uFF09\uFF0C\u8FDC\u8D85 int32 \u8303\u56F4\uFF0C\u9700\u8981\u7528 int64 \u6765\u5B58\u50A8\uFF1B\\n\\n\u56E0\u6B64\u53EA\u9700\u6C42\u8F93\u5165\u6570\u5217\u7684\u9006\u5E8F\u6570\u548C\u5373\u53EF\uFF0C\u7B97\u6CD5\u9009\u62E9\u5F52\u5E76\u6392\u5E8F\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u5B9E\u73B0\\n\\n```cpp\\n#include<iostream>\\nlong long ans = 0;\\nconst int n = 200000;\\nlong long a[n];\\nlong long tmp[n];\\n\\nvoid merge(int l, int m, int r) {\\n\\tint i = l;\\n\\tint j = m + 1;\\n\\tint k = l;\\n\\twhile (i <= m && j <= r) {\\n\\t\\tif (a[i] > a[j]) {\\n\\t\\t\\ttmp[k++] = a[j++];\\n\\t\\t\\tans += static_cast<long long>(m - i + 1);\\n\\t\\t}\\n\\t\\telse {\\n\\t\\t\\ttmp[k++] = a[i++];\\n\\t\\t}\\n\\t}\\n\\twhile (i <= m) {\\n\\t\\ttmp[k++] = a[i++];\\n\\t}\\n\\twhile (j <= r) {\\n\\t\\ttmp[k++] = a[j++];\\n\\t}\\n\\tfor (k = l; k <= r; k++) {\\n\\t\\ta[k] = tmp[k];\\n\\t}\\n}\\n\\nvoid mergeSort(int l, int r) {\\n\\tif (l < r) {\\n\\t\\tint m = (l + r) / 2;\\n\\t\\tmergeSort(l, m);\\n\\t\\tmergeSort(m + 1, r);\\n\\t\\tmerge(l, m, r);\\n\\t}\\n}\\n\\nint main() {\\n\\tint n;\\n\\tstd::cin >> n;\\n\\tfor (int i = 0; i < n; i++) {\\n\\t\\tstd::cin >> a[i];\\n\\t}\\n\\tmergeSort(0, n - 1);\\n\\tstd::cout << ans << std::endl;\\n\\treturn 0;\\n}\\n```\\n\\n\u63D0\u4EA4\u540E\u987A\u5229\u901A\u8FC7\u3002\\n![\u63D0\u4EA4\u7ED3\u679C](https://s2.loli.net/2023/03/22/RJHqBTW8VQ3oy1F.webp)"},{"id":"/2020/03/19/PTA-solution","metadata":{"permalink":"/blog/2020/03/19/PTA-solution","editUrl":"https://github.com/syzomnia-el/el-furnia/edit/main/blog/2020-03-19-PTA-solution.md","source":"@site/blog/2020-03-19-PTA-solution.md","title":"\u5224\u65AD\u4E00\u4E2A\u6570\u662F\u5426\u4E3A\u8D28\u6570\u2014\u2014\u4F18\u5316\u5E38\u89C1O(sqrt(n)/2)\u590D\u6742\u5EA6\u7B97\u6CD5\u5B58\u5728\u7684\u95EE\u9898","description":"$O(\\\\dfrac{\\\\sqrt n})$ \u590D\u6742\u5EA6\u7B97\u6CD5\u4F5C\u4E3A\u5E38\u89C1 $O(\\\\sqrt n)$","date":"2020-03-19T00:00:00.000Z","tags":[{"inline":true,"label":"C/C++","permalink":"/blog/tags/c-c"},{"inline":true,"label":"\u7B97\u6CD5","permalink":"/blog/tags/\u7B97\u6CD5"}],"readingTime":2.03,"hasTruncateMarker":true,"authors":[{"name":"El Syzomnia","title":"El Furnia \u6240\u6709\u8005","page":{"permalink":"/blog/authors/el"},"socials":{"twitter":"https://twitter.com/syzomnia_el","github":"https://github.com/syzomnia-el"},"imageURL":"https://s2.loli.net/2024/11/02/DpkzHxsJwqtPrdB.webp","key":"el"}],"frontMatter":{"title":"\u5224\u65AD\u4E00\u4E2A\u6570\u662F\u5426\u4E3A\u8D28\u6570\u2014\u2014\u4F18\u5316\u5E38\u89C1O(sqrt(n)/2)\u590D\u6742\u5EA6\u7B97\u6CD5\u5B58\u5728\u7684\u95EE\u9898","authors":"el","tags":["C/C++","\u7B97\u6CD5"]},"unlisted":false,"prevItem":{"title":"7-3 \u8D77\u6CE1\u6392\u5E8F\u2014\u2014\u4ECE\u5192\u6CE1\u5230\u5F52\u5E76","permalink":"/blog/2021/09/30/PTA-solution"},"nextItem":{"title":"\u521D\u89C1\u9012\u5F52\uFF5C\u9012\u5F52\u51FD\u6570\u6C42\u7334\u5B50\u5403\u6843\u2014\u2014\u5E38\u89C4\u5403\u6843\u95EE\u9898\u7684\u4E00\u79CD\u53D8\u5F62","permalink":"/blog/2020/03/12/PTA-solution"}},"content":"$O(\\\\dfrac{\\\\sqrt n}{2})$ \u590D\u6742\u5EA6\u7B97\u6CD5\u4F5C\u4E3A\u5E38\u89C1 $O(\\\\sqrt n)$\\n\u590D\u6742\u5EA6\u7B97\u6CD5\u7684\u4F18\u5316\u7248\u672C\uFF0C\u80FD\u591F\u51CF\u5C11\u540E\u8005\u7684\u4E00\u534A\u590D\u6742\u5EA6\uFF0C\u4F46\u5E38\u89C1\u4F18\u5316\u7B97\u6CD5\u6216\u591A\u6216\u5C11\u5B58\u5728\u4E00\u4E9B\u95EE\u9898\uFF1A\u6709\u7684\u65E0\u6CD5\u5BF9\u4E2A\u4F4D\u6570\u6B63\u786E\u5224\u65AD\u3001\u6709\u7684\u65E0\u6CD5\u5BF9\u8D1F\u6570\u6B63\u786E\u5224\u65AD\u2026\u2026\\n\\n\u8FD9\u7BC7\u535A\u5BA2\u5C06\u7ED9\u51FA\u4E00\u79CD\u4F18\u5316\u7248\u672C\u89E3\u51B3\u63D0\u5230\u7684\u95EE\u9898\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u5B9A\u4E49\\n\\n> \u56E0\u6570\u53EA\u6709 $1$ \u548C\u672C\u8EAB\u7684\u81EA\u7136\u6570\u79F0\u4E3A\u8D28\u6570\uFF0C\u6216\u79F0\u7D20\u6570\u3002\\n\\n## \u7B97\u6CD5\\n\\n### \u5206\u6790\\n\\n\u6839\u636E\u5B9A\u4E49\uFF0C\u82E5\u4E00\u4E2A\u6570 $n$ \u4E3A\u5408\u6570\uFF0C\u5219\u53EF\u4EE5\u8FDB\u884C\u56E0\u6570\u5206\u89E3\uFF0C\u4E14\u6240\u5F97\u4E24\u4E2A\u56E0\u6570 $n_1 > n_2$ \u5FC5\u6709  \\n$$\\nn_1 \\\\ge \\\\sqrt n, n_2 \\\\le \\\\sqrt n\\n$$\\n\u82E5\u5728 $\\\\sqrt{n}$ \u5DE6\u4FA7\u627E\u4E0D\u5230\u56E0\u6570\uFF0C\u53F3\u4FA7\u4E5F\u4E00\u5B9A\u627E\u4E0D\u5230\uFF0C\u56E0\u6B64\u53EA\u9700\u5224\u65AD**\u4ECE $2$ \u5230 $\\\\sqrt n$ \u662F\u5426\u5B58\u5728 $n$ \u7684\u7EA6\u6570**\u3002\\n\\n\u6B64\u5916\uFF0C**\u4EFB\u4F55\u5927\u4E8E $2$ \u7684\u5076\u6570\u5747\u4E3A\u5408\u6570**\\n\uFF0C\u6545\u53EA\u9700\u904D\u5386\u5947\u6570\u5373\u53EF\u3002\\n\\n### \u5B9E\u73B0\\n\\n```cpp\\nbool isPrime(int n) {\\n    // \u5224\u65AD\u662F\u5426\u4E3A\u8D1F\u6570\u30010\u30011\u6216\u5927\u4E8E2\u7684\u5076\u6570\\n    if (n < 2 || n % 2 == 0 && n > 2) {\\n        return false; \\n    }\\n    // \u904D\u5386\u5927\u4E8E2\u7684\u5947\u6570\\n    for (int i = 3; i <= sqrt(n); i += 2) {\\n        if (n % i == 0) {\\n            return false;\\n        }\\n    }\\n    return true;\\n}\\n```"},{"id":"/2020/03/12/PTA-solution","metadata":{"permalink":"/blog/2020/03/12/PTA-solution","editUrl":"https://github.com/syzomnia-el/el-furnia/edit/main/blog/2020-03-12-PTA-solution.md","source":"@site/blog/2020-03-12-PTA-solution.md","title":"\u521D\u89C1\u9012\u5F52\uFF5C\u9012\u5F52\u51FD\u6570\u6C42\u7334\u5B50\u5403\u6843\u2014\u2014\u5E38\u89C4\u5403\u6843\u95EE\u9898\u7684\u4E00\u79CD\u53D8\u5F62","description":"\u9898\u76EE","date":"2020-03-12T00:00:00.000Z","tags":[{"inline":true,"label":"C/C++","permalink":"/blog/tags/c-c"},{"inline":true,"label":"PTA","permalink":"/blog/tags/pta"}],"readingTime":4.11,"hasTruncateMarker":true,"authors":[{"name":"El Syzomnia","title":"El Furnia \u6240\u6709\u8005","page":{"permalink":"/blog/authors/el"},"socials":{"twitter":"https://twitter.com/syzomnia_el","github":"https://github.com/syzomnia-el"},"imageURL":"https://s2.loli.net/2024/11/02/DpkzHxsJwqtPrdB.webp","key":"el"}],"frontMatter":{"title":"\u521D\u89C1\u9012\u5F52\uFF5C\u9012\u5F52\u51FD\u6570\u6C42\u7334\u5B50\u5403\u6843\u2014\u2014\u5E38\u89C4\u5403\u6843\u95EE\u9898\u7684\u4E00\u79CD\u53D8\u5F62","authors":"el","tags":["C/C++","PTA"]},"unlisted":false,"prevItem":{"title":"\u5224\u65AD\u4E00\u4E2A\u6570\u662F\u5426\u4E3A\u8D28\u6570\u2014\u2014\u4F18\u5316\u5E38\u89C1O(sqrt(n)/2)\u590D\u6742\u5EA6\u7B97\u6CD5\u5B58\u5728\u7684\u95EE\u9898","permalink":"/blog/2020/03/19/PTA-solution"},"nextItem":{"title":"\u8BA1\u7B97\u5706\u67F1\u4F53\u7684\u8868\u9762\u79EF\u548C\u4F53\u79EF\u2014\u2014\u5229\u7528%g\u5BF9\u8F93\u51FA\u8FDB\u884C\u63A7\u5236","permalink":"/blog/2020/02/21/PTA-solution"}},"content":"## \u9898\u76EE\\n\\n<details>\\n<summary><strong>\u9898\u9762\u63CF\u8FF0</strong></summary>\\n\\n> \u7334\u5B50\u5728\u7B2C\u4E00\u5929\u6458\u4E86\u82E5\u5E72\u4E2A\u6843\u5B50\uFF08\u5947\u6570\uFF09\uFF0C\u5403\u6389\u4E86\u6843\u5B50\u7684\u4E00\u534A\u591A\u4E00\u4E2A\uFF0C\u7B2C\u4E8C\u5929\u5403\u6389\u4E86\u5269\u4E0B\u6843\u5B50\u7684\u4E00\u534A\u591A\u4E00\u4E2A\uFF0C\u4EE5\u540E\u6BCF\u5929\u90FD\u5403\u6389\u5269\u4E0B\u6843\u5B50\u7684\u4E00\u534A\u591A\u4E00\u4E2A\uFF0C\u76F4\u5230\u7B2Cn\u5929\uFF0C\u6843\u5B50\u53EA\u52691\u4E2A\uFF0C\u4E0D\u518D\u5403\u6843\u3002\\n>\\n> \u7F16\u5199\u9012\u5F52\u51FD\u6570\uFF0C\u7334\u5B50\u7528day\u5929\u5403\u5230\u6843\u5B50\u53EA\u52691\u4E2A\uFF0C\u5219\u6700\u5F00\u59CB\u6709\u591A\u5C11\u4E2A\u6843\u5B50\uFF0C\u5982\u8C03\u7528tao(3)\\n> \u5F97\u5230\u7684\u8FD4\u56DE\u503C\u662F7\uFF08\u7B2C1\u5929\u67097\u4E2A\u6843\u5B50\uFF0C\u7B2C2\u5929\u67093\u4E2A\u6843\u5B50\uFF08\u7334\u5B50\u5403\u6389\u4E867/2+1\uFF09,\u7B2C3\u5929\u5269\u4F59\u67091\u4E2A\u6843\u5B50\uFF09\u3002\\n>\\n> **\u51FD\u6570\u63A5\u53E3\u5B9A\u4E49\uFF1A**\\n>\\n> ```cpp\\n> int tao(int day);\\n> ```\\n>\\n> `i `\u662F\u7528\u6237\u4F20\u5165\u7684\u53C2\u6570,\u662F`int`\u503C\uFF0C\u8868\u793A\u7B2Ci\u5929\uFF1B \u51FD\u6570\u8C03\u7528\u7ED3\u675F\u540E\u5F97\u5230\u7B2Ci\u5929\u5269\u4F59\u7684\u6843\u5B50\u6570\u91CF\u3002\\n>\\n> **\u88C1\u5224\u6D4B\u8BD5\u7A0B\u5E8F\u6837\u4F8B\uFF1A**\\n>\\n> \u5728\u8FD9\u91CC\u7ED9\u51FA\u51FD\u6570\u88AB\u8C03\u7528\u8FDB\u884C\u6D4B\u8BD5\u7684\u4F8B\u5B50\u3002\u4F8B\u5982\uFF1A\\n>\\n> ```cpp\\n> #include<iostream>\\n> using namespace std;\\n> int tao(int day);\\n> int main()\\n> {\\n>  int day;\\n>  cin >> day;\\n>  int n = tao(day);\\n>  cout << n;\\n>  return 0;\\n> }\\n> /* \u8BF7\u5728\u8FD9\u91CC\u586B\u5199\u7B54\u6848 */\\n> ```\\n>\\n> **\u8F93\u5165\u6837\u4F8B1:**\\n>\\n> ```\\n> 3\\n> ```\\n>\\n> **\u8F93\u51FA\u6837\u4F8B1:**\\n>\\n> ```\\n> 7\\n> ```\\n>\\n> **\u8F93\u5165\u6837\u4F8B2:**\\n>\\n> ```\\n> 4\\n> ```\\n>\\n> **\u8F93\u51FA\u6837\u4F8B2:**\\n>\\n> ```cpp\\n> 15\\n> ```\\n>\\n> **\u8F93\u5165\u6837\u4F8B3:**\\n>\\n> ```\\n> 5\\n> ```\\n>\\n> **\u8F93\u51FA\u6837\u4F8B3:**\\n>\\n> ```\\n> 31\\n> ```\\n\\n> \u65F6\u95F4\u9650\u5236: 400 ms  \\n> \u5185\u5B58\u9650\u5236: 64 MB\\n\\n</details>\\n\\n\x3c!--truncate--\x3e\\n\\n## \u9012\u5F52\u95EE\u9898\u7684\u4E00\u822C\u601D\u8003\u65B9\u5411\\n\\n\u8FD0\u7528\u9012\u5F52\u9700\u8981\u660E\u786E\u4E09\u4E2A\u8981\u7D20\uFF1A\\n\\n1. **\u51FD\u6570\u7528\u9014**\\n2. **\u7EC8\u6B62\u6761\u4EF6**\\n3. **\u9012\u63A8\u5173\u7CFB**\\n\\n\u8BB0\u4F4F\u8FD9\u4E09\u70B9\uFF0C\u9012\u5F52\u95EE\u9898\u5C31\u5BB9\u6613\u89E3\u51B3\u4E86\u3002\\n\\n## \u95EE\u9898\u5206\u6790\\n\\n\u5E38\u89C1\u7ECF\u5178\u7334\u5B50\u5403\u6843\u9012\u5F52\u95EE\u9898\u4E3A\uFF1A\u5DF2\u77E5\u5403\u5230\u7B2C\u5341\u5929\u6843\u5B50\u4F59 $1$\uFF0C\u6C42\u6700\u521D\u6709\u591A\u5C11\u6843\u3002\\n\\n\u6B64\u95EE\u9898\u6709\u6240\u4E0D\u540C\uFF0C\u51FD\u6570\u8F93\u5165\u7684\u5F62\u53C2\u4E3A**\u5403\u5230\u7B2C n \u5929\u6843\u5B50\u4F59 1 **\u7684 **n**\uFF0C\u6BD4\u7ECF\u5178\u7248\u672C\u66F4\u52A0\u7075\u6D3B\uFF0C\u96BE\u5EA6\u7A0D\u6709\u589E\u52A0\uFF0C\u4F46\u95EE\u9898\u672C\u8D28\u4E0D\u53D8\u3002\\n\\n## \u6570\u5B66\u5316\u62BD\u8C61\\n\\n\u8BBE\u7B2C n \u5929\u6709 f (n) \u4E2A\u6843\u5B50\uFF0C\u5219\u7B2C n-1 \u5929\u6709 f(n-1) \u4E2A\u6843\u5B50\\n\\n\u7531\u9898\u610F\u53EF\u77E5\uFF0C\u7B2C n \u5929\u6709\u4E00\u4E2A\u6843\u5B50\uFF0C\u7B2C n-1 \u5929\u6709 1\xd72+1=3 \u4E2A\u6843\u5B50\u2026\u2026\\n\\n\u5219\u6709\\n**f (n) = 2 \xd7 f (n - 1) + 1**\\n\\n\u5F53 n-1=1 \u65F6\uFF0C\u9012\u63A8\u7ED3\u675F\\n\\n## \u4EE3\u7801\u5B9E\u73B0\\n\\n```cpp\\nint tao(int day) {\\n    //\u7EC8\u6B62\u6761\u4EF6\\n    if (day == 1) {\\n        return 1;\\n    } else {\\n        //\u9012\u63A8\u5173\u7CFB\\n        return (tao(day - 1) * 2 + 1);\\n\\t}\\n}\\n```"},{"id":"/2020/02/21/PTA-solution","metadata":{"permalink":"/blog/2020/02/21/PTA-solution","editUrl":"https://github.com/syzomnia-el/el-furnia/edit/main/blog/2020-02-21-PTA-solution.md","source":"@site/blog/2020-02-21-PTA-solution.md","title":"\u8BA1\u7B97\u5706\u67F1\u4F53\u7684\u8868\u9762\u79EF\u548C\u4F53\u79EF\u2014\u2014\u5229\u7528%g\u5BF9\u8F93\u51FA\u8FDB\u884C\u63A7\u5236","description":"\u9898\u76EE","date":"2020-02-21T00:00:00.000Z","tags":[{"inline":true,"label":"C/C++","permalink":"/blog/tags/c-c"},{"inline":true,"label":"PTA","permalink":"/blog/tags/pta"}],"readingTime":3.18,"hasTruncateMarker":true,"authors":[{"name":"El Syzomnia","title":"El Furnia \u6240\u6709\u8005","page":{"permalink":"/blog/authors/el"},"socials":{"twitter":"https://twitter.com/syzomnia_el","github":"https://github.com/syzomnia-el"},"imageURL":"https://s2.loli.net/2024/11/02/DpkzHxsJwqtPrdB.webp","key":"el"}],"frontMatter":{"title":"\u8BA1\u7B97\u5706\u67F1\u4F53\u7684\u8868\u9762\u79EF\u548C\u4F53\u79EF\u2014\u2014\u5229\u7528%g\u5BF9\u8F93\u51FA\u8FDB\u884C\u63A7\u5236","authors":"el","tags":["C/C++","PTA"]},"unlisted":false,"prevItem":{"title":"\u521D\u89C1\u9012\u5F52\uFF5C\u9012\u5F52\u51FD\u6570\u6C42\u7334\u5B50\u5403\u6843\u2014\u2014\u5E38\u89C4\u5403\u6843\u95EE\u9898\u7684\u4E00\u79CD\u53D8\u5F62","permalink":"/blog/2020/03/12/PTA-solution"}},"content":"## \u9898\u76EE\\n\\n<details>\\n<summary><strong>\u9898\u9762\u63CF\u8FF0</strong></summary>\\n\\n> \u7F16\u5199\u7A0B\u5E8F\uFF0C\u952E\u76D8\u8F93\u5165\u5706\u67F1\u4F53\u7684\u5E95\u9762\u534A\u5F84\u548C\u9AD8\uFF0C\u8BA1\u7B97\u5E76\u8F93\u51FA\u5706\u67F1\u4F53\u7684\u8868\u9762\u79EF\u548C\u4F53\u79EF\uFF08\u5706\u5468\u7387\u63093.14\u8BA1\uFF09\u3002\\n>\\n> **\u8F93\u5165\u683C\u5F0F:**\\n>\\n> \u5728\u4E00\u884C\u4E2D\u8F93\u5165\u5706\u67F1\u4F53\u7684\u5E95\u9762\u534A\u5F84\u548C\u9AD8\u3002\\n>\\n> **\u8F93\u51FA\u683C\u5F0F:**\\n>\\n> \u5BF9\u6BCF\u4E00\u7EC4\u8F93\u5165\uFF0C\u5728\u4E24\u884C\u4E2D\u5206\u522B\u8F93\u51FA\u8868\u9762\u79EFS\u548C\u4F53\u79EFV\u3002\\n>\\n> **\u8F93\u5165\u6837\u4F8B:**\\n>\\n> \u5728\u8FD9\u91CC\u7ED9\u51FA\u4E00\u7EC4\u8F93\u5165\u3002\u4F8B\u5982\uFF1A\\n>\\n> ```\\n> 1 1.21\\n> ```\\n>\\n> **\u8F93\u51FA\u6837\u4F8B:**\\n>\\n> \u5728\u8FD9\u91CC\u7ED9\u51FA\u76F8\u5E94\u7684\u8F93\u51FA\u3002\u4F8B\u5982\uFF1A\\n>\\n> ```\\n> S=13.8788\\n> V=3.7994\\n> ```\\n\\n</details>\\n\\n\x3c!--truncate--\x3e\\n\\n## \u5173\u952E\u70B9 \u2014\u2014 %g\\n\\n\u501F\u52A9 `%g` \u8FD9\u4E00\u683C\u5F0F\u63A7\u5236\u7B26\u8FDB\u884C\u81EA\u9002\u5E94\u8F93\u51FA\uFF0C\u4EE5\u89E3\u51B3\u9898\u76EE\u4E2D\u6CA1\u6709\u89C4\u5B9A\u8F93\u51FA\u6D6E\u70B9\u6570\u7CBE\u5EA6\u7684\u95EE\u9898\u3002\\n\\n```c\\n   printf(\\"S=%g\\\\nV=%g\\", S, V);\\n```\\n\\n## \u521D\u7248\\n\\n```c\\n#include <stdio.h>\\n\\nint main() {\\n    double r, h, \u03C0 = 3.14;\\n    double S, V;\\n    scanf(\\"%lf %lf\\", &r, &h);\\n    S = 2 * \u03C0 * r * (r + h);\\n    V = \u03C0 * r * r * h;\\n    printf(\\"S=%.4lf\\\\nV=%.4lf\\", S, V);\\n    return 0;\\n}\\n```\\n\\n### \u9519\u56E0\u5206\u6790\\n\\n\u6CA1\u6709\u5BF9\u9898\u76EE\u591A\u505A\u5206\u6790\uFF0C\u89C2\u5BDF\u8F93\u51FA\u6837\u4F8B\u540E\u60F3\u5F53\u7136\u8BA4\u4E3A\u8F93\u51FA\u8981\u6C42\u4FDD\u7559\u5C0F\u6570\u70B9\u540E 4 \u4F4D\u6570\u3002\\n\\n*\u503C\u5F97\u4E00\u63D0\u7684\u662F\uFF0C`\u03C0` \u8FD9\u4E00\u7B26\u53F7\u5728 VS2019 \u4E2D\u53EF\u4EE5\u4E0D\u9700\u8981\u5B8F\u76F4\u63A5\u4F5C\u4E3A\u53D8\u91CF\u5B9A\u4E49\u548C\u4F7F\u7528\uFF0C\u800C\u5728PTA\u7F51\u7AD9\u7684\u7F16\u8BD1\u73AF\u5883\u4E2D `\u03C0`\\n\u5C06\u4E0D\u88AB\u89C6\u4E3A\u4E00\u4E2A\u53EF\u5B9A\u4E49\u7684\u53D8\u91CF\u4ECE\u800C\u51FA\u73B0\u7F16\u8BD1\u9519\u8BEF\u3002*\\n\\n![\u51FA\u73B0\u7F16\u8BD1\u9519\u8BEF\u7684\u63D0\u4EA4\u7ED3\u679C](https://s2.loli.net/2023/03/22/vzpmHYuFiaXTMty.webp)\\n\\n## \u6700\u7EC8\u7ED3\u679C\\n\\n```c\\n#include <stdio.h>\\n\\nint main() {\\n    double r, h, Pi = 3.14;\\n    double S, V;\\n    scanf(\\"%lf %lf\\", &r, &h);\\n    S = 2 * Pi * r * (r + h);\\n    V = Pi * r * r * h;\\n    printf(\\"S=%g\\\\nV=%g\\", S, V);\\n    return 0;\\n}\\n```\\n\\n\u5C06\u9020\u6210\u7F16\u8BD1\u9519\u8BEF\u7684 `\u03C0` \u66FF\u6362\u6389\uFF0C\u5E76\u4F7F\u7528 `%g` \u6765\u4EE3\u66FF `%lf` \u8FDB\u884C\u8F93\u51FA\uFF0C\u6700\u7EC8\u6210\u529F\u901A\u8FC7\u6D4B\u8BD5\u3002\\n\\n![\u901A\u8FC7\u6D4B\u8BD5\u7684\u63D0\u4EA4\u7ED3\u679C](https://s2.loli.net/2023/03/22/e9JtdqO362QIFoG.webp)"}]}}')}}]);